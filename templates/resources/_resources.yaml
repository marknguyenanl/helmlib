{{/* {{ define "helmlib.usefamily"}} */}}
{{/* {{ .Value.overlay.usefamily }} */}}
{{/* {{ end }} */}}
{{/* {{ define "helmlib.usemachine"}} */}}
{{/* {{ .Value.overlay.usemachine }} */}}
{{/* {{ end }} */}}

{{ define "helmlib.machine" }}
{{ with .Values.machines }}
{{ if eq .name "vm1l1"}}
{{ $reqmem := mul .reqcpu 1.28}}
resources:
  requests:
    cpu: {{ .reqcpu }}m
    memory: {{ mul $reqmem .memtocpu }}Mi
  limits:
    cpu: {{ mul .reqcpu .limittoreq }}m
    memory: {{ mul $reqmem .memtocpu .limittoreq }}Mi
{{ end }}
{{ end }}
{{ end }}
