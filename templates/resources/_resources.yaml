{{- define "helmlib.engineused" -}}
{{ $usedengine := (.Values.overlay).usedengine }}
{{ $requests := printf "((%s.%s).requests)" ((.Values.root).engines) $usedengine }}
{{ $limits := printf "((%s.%s).limits)" ((.Values.root).engines) $usedengine }}

{{/* {{- range $engine := ($.Values.root).engines }} */}}
{{/* --- */}}
{{/* {{- if $engine }} */}}
resources: 
  requests:
    cpu: {{ $requests.cpu }}
    memory: {{ $requests.memory }}
  limits:
    cpu: {{ $limits.cpu }}
    memory: {{ $limits.memory }}
{{/* {{- end -}} */}}
{{/* --- */}}
{{/* {{- end -}} */}}
{{- end -}}
