{{- define "helmlib.engineused" -}}
{{- $usedengine := .Values.overlay.usedengine -}}
{{/* {{- $remapengine := printf ".%s" $usedengine -}} */}}
{{- range $engine, $value := ((.Values.root).engines) }}
---
{{- if eq $engine $usedengine -}}
resources:
  requests:
    cpu: {{ printf "%s%+v%+v" $engine .requests .cpu }}
  {{/*   memory: {{ $engine.requests.memory }} */}}
  {{/* limits: */}}
  {{/*   cpu: {{ $engine.limits.cpu }} */}}
  {{/*   memory: {{ $engine.limits.memory }} */}}
{{- end -}}
{{- end -}}
{{- end -}}
